<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Ä°slami Wordle</title>
  <meta name="description" content="An Islamic-themed Wordle-style word guessing game.">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#10b981">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
          keyframes: {
            'pop-in': {
              '0%': { transform: 'scale(0.8)', opacity: '0' },
              '40%': { transform: 'scale(1.1)', opacity: '1' },
              '100%': { transform: 'scale(1)', opacity: '1' },
            },
            'shake': {
                '0%, 100%': { transform: 'translateX(0)' },
                '25%': { transform: 'translateX(-5px)' },
                '75%': { transform: 'translateX(5px)' },
            },
            'fade-in': {
                'from': { opacity: '0' },
                'to': { opacity: '1' },
            },
            'slide-up': {
                'from': { transform: 'translateY(20px)', opacity: '0' },
                'to': { transform: 'translateY(0)', opacity: '1' },
            },
            'bounce-short': {
              '0%, 100%': { transform: 'scale(1)' },
              '50%': { transform: 'scale(1.05)' },
            },
            'jump': {
              '0%, 100%': { transform: 'translateY(0)' },
              '20%': { transform: 'translateY(0)' },
              '40%': { transform: 'translateY(-15px)' },
              '50%': { transform: 'translateY(0)' },
              '60%': { transform: 'translateY(-7px)' },
              '80%': { transform: 'translateY(0)' },
            },
            'shimmer': {
              '0%': { transform: 'translateX(-100%) skewX(-20deg)' },
              '100%': { transform: 'translateX(100%) skewX(-20deg)' },
            },
            'glow': {
              '0%, 100%': { filter: 'drop-shadow(0 0 3px #E96306)' },
              '50%': { filter: 'drop-shadow(0 0 12px #E96306)' },
            },
            'fade-to-gray': {
              'from': { filter: 'grayscale(0)' },
              'to': { filter: 'grayscale(100%)' },
            }
          },
          animation: {
            'pop-in': 'pop-in 0.2s ease-out',
            'shake': 'shake 0.15s linear both',
            'fade-in': 'fade-in 0.2s ease-out forwards',
            'slide-up': 'slide-up 0.4s ease-out forwards',
            'bounce-short': 'bounce-short 0.5s ease-in-out',
            'jump': 'jump 0.6s ease-out',
            'glow': 'glow 2.5s ease-in-out infinite',
            'shimmer': 'shimmer 1.5s linear infinite',
            'fade-to-gray': 'fade-to-gray 0.6s ease-out forwards',
          }
        }
      }
    }
  </script>
  <style>
    :root {
      --tile-size: clamp(48px, 14vw, 64px);
      --tile-gap: 6px;
    }
    html, body, #root {
        height: 100%;
        margin: 0;
        padding: 0;
    }
    body {
        overscroll-behavior: none; /* Disables pull-to-refresh but allows scrolling */
        -webkit-tap-highlight-color: transparent; /* Remove tap highlight for cleaner UI */
    }
    body.dark {
        background: linear-gradient(to bottom, #121212, #0D0D0D);
        color: #F5F5F5;
    }
    .tile {
        width: var(--tile-size);
        height: var(--tile-size);
        display: inline-flex;
        justify-content: center;
        align-items: center;
        font-size: 2rem;
        font-weight: bold;
        text-transform: uppercase;
        user-select: none;
        perspective: 1000px;
    }
    .tile-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.4s cubic-bezier(0.45, 0, 0.55, 1);
        transform-style: preserve-3d;
    }
    .tile.is-revealing .tile-inner,
    .tile.is-revealed .tile-inner {
        transform: rotateX(180deg);
    }
    .tile-face {
        position: absolute;
        width: 100%;
        height: 100%;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .tile-back {
        transform: rotateX(180deg);
    }
    html[dir="rtl"] .rtl-flip {
      transform: scaleX(-1);
    }
    html[lang="ar"] {
      font-family: 'Cairo', sans-serif;
    }
    /* Respect user's motion preferences */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }
  </style>
  <script type="importmap">
  {
    "imports": {
      "react/": "https://aistudiocdn.com/react@^19.1.1/",
      "react": "https://aistudiocdn.com/react@^19.1.1",
      "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/",
      "@google/genai": "https://aistudiocdn.com/@google/genai@^1.19.0"
    }
  }
  </script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9655763725113422"
     crossorigin="anonymous"></script>
</head>
<body class="bg-gray-50 dark:bg-transparent text-black dark:text-[#F5F5F5]">
  <div id="root"></div>
  <script type="module" src="/index.tsx"></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js').then(registration => {
          console.log('ServiceWorker registration successful with scope: ', registration.scope);
        }, err => {
          console.log('ServiceWorker registration failed: ', err);
        });
      });
    }
  </script>
</body>
</html>